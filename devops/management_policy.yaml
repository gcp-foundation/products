organizations:
- displayName: ${domain}
  name: organizations/${organization_id} # Change to just organization_id and do lookup in code
  iamPolicy:
    bindings:
    - role: roles/resourcemanager.organizationAdmin
      members:
      - ${sa_management}
    - role: roles/orgpolicy.policyAdmin
      members:
      - ${sa_management}
    - role: roles/cloudkms.admin
      members:
      - ${sa_management}
    - role: roles/cloudasset.viewer
      members:
      - ${sa_management}
    - role: roles/logging.admin
      members:
      - ${sa_management}
    - role: roles/storage.admin
      members:
      - ${sa_management}
    - role: roles/pubsub.admin
      members:
      - ${sa_management}
    - role: roles/bigquery.admin
      members:
      - ${sa_management}
    - role: roles/artifactregistry.admin
      members:
      - ${sa_management}
    - role: roles/cloudfunctions.admin
      members:
      - ${sa_management}
    - role: roles/iam.serviceAccountAdmin
      members:
      - ${sa_management}

projects: 
- displayName: ${project_guardrails} 
  iamPolicy: 
    bindings:
    - role: roles/iam.serviceAccountAdmin
      members:
      - ${sa_management}

service_accounts:
- displayName : ${sa_guardrail_orgpolicy}
  iamPolicy: 
    bindings:
    - role: roles/iam.serviceAccountUser
      members:
      - ${sa_management}